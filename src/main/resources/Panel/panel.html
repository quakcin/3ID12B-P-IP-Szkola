<!DOCTYPE html>
<html>
    <head>
        <title>Hefajstos</title>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link href='https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css' rel='stylesheet'>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href='' rel='stylesheet'>
        <script type='text/javascript' src=''></script>
        <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js'></script>
        <script type='text/javascript' src='https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js'></script>
    </head>
    <body style="overflow: hidden; padding: 0px; margin: 0px;">
        <div style="width: 100vw; height: 8vh; border-bottom: 3px solid black">
            <div style="padding: 15px; box-sizing: border-box; display: flex; justify-content: space-between; align-items: center; align-content: center">
                <div>
                    Zdjecie
                </div>
                <div>
                    %tytul
                </div>
                <div style="text-align: right">
                    <div style="display: flex">
                       <b>%RodzajKonta</b>
                        <p id="kred" style="margin-left: 10px;">%Kredytywnosc</p>
                    </div>
                    <div>
                        <a href="#" id="wyloginator"> Wyloguj </a>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div style="width: 15vw; border-right: 2px solid black; display: block">
                <div style="padding: 15px; box-sizing: border-box; display: flex; flex-wrap: wrap; flex-direction: column">
                    %navbar
                </div>
            </div>
            <div style="width: calc(100vw - 15vw); height: calc(100vh - 8vh);">
                <div style="width: 100%; height: calc(100vh - 8vh); overflow: scroll">
                    <div style="padding: 15px; box-sizing: border-box">%kontent</div>
                </div>
            </div>
        </div>
    <script src="/api/api.js"></script>
    <script>
        const api = new HefajstosAPI();

        wyloginator.onclick = (e) =>
        {
            console.log('wyloginator');
            api.wykonaj((n) =>
            {
                localStorage.setItem('hefajstos.token', 'brak');
                alert('Nastąpiło wylogowanie!');
                window.location.href = '/';
            }).dla("wyloguj");
        }

    </script>
    </body>
</html>

<script>
    setTimeout(() => {
        const altApi = new HefajstosAPI();
            altApi.wykonaj((s) => {
                console.log(s);
                kred.innerHTML = s.kred;
            })
            .ewentualnie((e) =>
            {
                console.log('serwer nie odpowiada')
            })
            .dla('kredytywnosc', []);
    }, 500);
</script>